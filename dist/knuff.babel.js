"use strict";!function(t){function e(t){return t.substr(0,f.baseUrl.length)===f.baseUrl?t:f.baseUrl+t}function n(t){"function"==typeof f.onPop&&f.onPop.call(t,t,t.state.knuff)}function o(n){var o=n.target;if(!1===o.matches(f.selector)||n.metaKey||n.ctrlKey)return!0;n.preventDefault();var r=o.getAttribute("data-knuff")||o.href||!1;return!1!==r&&r!==t.location.href&&(r=e(r),t.history.pushState({knuff:r},null,r),"function"==typeof f.onPush&&f.onPush.call(n,n,r),!1)}function r(t){if("[object Object]"===u.toString.call(t))for(var e in t)u.hasOwnProperty.call(t,e)&&u.hasOwnProperty.call(f,e)&&(f[e]=t[e])}var a=t.document,l=t.location.href,c=Element.prototype,u=Object.prototype,f={baseUrl:t.location.protocol+"//"+t.location.host+"/",selector:"[data-knuff]",onPop:null,onPush:null},s=!1;void 0===c.matches&&(c.matches=c.msMatchesSelector||c.webkitMatchesSelector),t.knuff=function(e){s||(s=!0,r(e),t.addEventListener("popstate",n),a.addEventListener("click",o),t.history.replaceState({knuff:l},null,l))}}(this);