!function(t){function e(t){return t.substr(0,f.base.length)===f.base?t:f.base+t}function n(t){"function"==typeof f.onPop&&f.onPop.call(t,t.state.knuff)}function o(n){const{target:o}=n;if(!1===o.matches(f.link)||n.metaKey||n.ctrlKey)return!0;n.preventDefault();let c=o.getAttribute("data-knuff")||o.href||!1;return!1!==c&&c!==t.location.href&&(c=e(c),t.history.pushState({knuff:c},null,c),"function"==typeof f.onPush&&f.onPush.call(n,c),!1)}function c(t){if("[object Object]"===s.toString.call(t))for(const e in t)s.hasOwnProperty.call(t,e)&&s.hasOwnProperty.call(f,e)&&(f[e]=t[e])}const l=t.document,a=t.location.href,r=Element.prototype,s=Object.prototype,f={base:t.location.protocol+"//"+t.location.host+"/",link:"[data-knuff]",onPop:null,onPush:null};let u=!1;void 0===r.matches&&(r.matches=r.msMatchesSelector||r.webkitMatchesSelector),t.knuff=(e=>{u||(u=!0,c(e||{}),t.addEventListener("popstate",n),l.addEventListener("click",o),t.history.replaceState({knuff:a},null,a))})}(this);