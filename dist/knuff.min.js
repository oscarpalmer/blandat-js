!function(t){function e(t){return t.substr(0,f.baseUrl.length)===f.baseUrl?t:f.baseUrl+t}function n(t){"function"==typeof f.onPop&&f.onPop.call(t,t,t.state.knuff)}function o(n){const{target:o}=n;if(!1===o.matches(f.selector)||n.metaKey||n.ctrlKey)return!0;n.preventDefault();let l=o.getAttribute("data-knuff")||o.href||!1;return!1!==l&&l!==t.location.href&&(l=e(l),t.history.pushState({knuff:l},null,l),"function"==typeof f.onPush&&f.onPush.call(n,n,l),!1)}function l(t){if("[object Object]"===s.toString.call(t))for(const e in t)s.hasOwnProperty.call(t,e)&&s.hasOwnProperty.call(f,e)&&(f[e]=t[e])}const c=t.document,r=t.location.href,a=Element.prototype,s=Object.prototype,f={baseUrl:t.location.protocol+"//"+t.location.host+"/",selector:"[data-knuff]",onPop:null,onPush:null};let u=!1;void 0===a.matches&&(a.matches=a.msMatchesSelector||a.webkitMatchesSelector),t.knuff=(e=>{u||(u=!0,l(e),t.addEventListener("popstate",n),c.addEventListener("click",o),t.history.replaceState({knuff:r},null,r))})}(this);